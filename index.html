<html>
    <head>
        <title>数値解析入門</title>
        <!--MathJaxの設定-->
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] } });
          </script>
          <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
          </script>
          <meta http-equiv="X-UA-Compatible" CONTENT="IE=EmulateIE7" />
        <link rel="stylesheet" type="text/css" href="css/style.css"> 
    </head>
    
    <body class="NA_contents">
        <main style="width: 75%;padding-left: 3%;padding-right: 3%;" >
        <!--タイトル-->
        <h1 style="text-align: center;color: rgb(0, 61, 111);padding-top: 10px;">
            数値解析入門
        </h1>
            <!--スケジュール-->
            <h2 style="border-bottom: solid rgb(0, 61, 111);">
                1.スケジュール
            </h2>
                各自PythonかMATLABを利用できるノートパソコンを持参のこと。環境構築が難しい場合はGoogleアカウントを作成しておけば大丈夫です。<br>
                場所はW2-544にて実施。
                <ul>
                    <li>第1回：4月11日実施　常微分方程式の時間積分, 10:30-11:30</li> 
                    <li>第2回：4月11日実施　1次元移流方程式（差分法）, 13:00-14:00</li>
                    <li>第3回：4月12日実施　1次元拡散方程式（有限体積法）, 13:00-15:30</li>
                    <li>第4回：4月12日実施　貯留層シミュレーション入門, 16:00-17:00</li>
                    <li>第5回：2月16日実施　</li>
                </ul>

            <!--コンテンツはじまり-->
            <h2 style="border-bottom: solid rgb(0, 61, 111);">
                2.コンテンツ
            </h2>

                    <!--環境構築編-->
                    <h3>
                        2-1.環境構築
                    </h3>
                    <!--事前に確認しておくとスムーズ-->
                    <ul>
                        <li>Jupiter Notebookは使えるか？→ダメならGoolgeColab</li>
                        <li>参加者のOSは？</li>
                        <li>Fortranとgfortran</li>
                        <li>基本的なターミナル操作</li>
                    </ul>

                    <!--数値計算法-->
                    <h3>
                        <font color = "red">基礎編<!--（目安3.5h~4h，2日間）--></font><br>
                        2-2.数値計算法の基礎と結果の可視化
                    </h3>
                    基礎編の資料をまとめたzipは<a><b><u><font color="#ff4500">こちら</font></u></b></a>
                    <div>
                        <!--
                        このセクションでは，離散化の考え方と数値解析の注意点（安定条件）がメインテーマ。実施時間の目安は目安3.5h~4hと思われる。なお，<b>常微分方程式の時間積分（発展）</b>は飛ばしても構わない。
                        -->
                    <ul>
                        <li><a href="kiso/01_ODEa.pdf">常微分方程式の時間積分（基礎）</a>
                            ：演習用
                                <a href="kiso/小球の自由落下.xlsx">[excel]</a>, 
                                <a href="kiso/freefall.py">[python]</a>, 
                                <a href="kiso/freefall.m">[matlab]</a>
                            /解答[excel], 
                                <a href="kiso/freefall_ans.py">[python]</a>,
                                <a href="kiso/freefall_ans.m">[matlab]</a>
                        </li>
                        <li>
                            <a href="kiso/01_ODEb.pdf">常微分方程式の時間積分（発展）</a>
                        </li>
                        <li><a href="kiso/02_Advection.pdf">1次元移流方程式（差分法）</a>
                            ：演習用
                                <a href="kiso/Advection_upwind.py">[python]</a>, 
                                <a href="kiso/Advection_upwind.m">[matlab]</a>
                            /解答
                                <a href="kiso/Advection_upwind_ans.py">[python]</a>,
                                <a href="kiso/Advection_upwind_ans.m">[matlab]</a>
                        </li>
                        <li><a href="kiso/03_Diffusion.pdf">1次元拡散方程式（陽解法・FVM）</a>
                            ：演習用
                            <a href="kiso/diffusion1d.py">[python]</a>,
                            <a href="kiso/Diffusion1D.m">[matlab]</a>
                            /解答
                            <a href="kiso/diffusion1d_ans.py">[python]</a>,
                            <a href="kiso/Diffusion1D_ans.m">[matlab]</a></li>
                        <li><a href="kiso/05_Gif.pdf">Gifアニメーションを作る（ImageMagick）</a></li>
                        <!--<li><a href="kiso/04_intro2ReservoirSim.pdf">貯留層解析イントロ</a></li>             -->
                    </ul>

</div>
                    <!--油層シミュレーション-->
                    
                    <h3>
                        <font color="red">発展編<!--（目安4h~6h，2or3日間）--></font><br>
                        2-3.陰解法と多相流解析
                    </h3>
                    <!--
                    このセクションでは，実践的なプログラミングに不可欠なテクニック（疎行列・関数プログラミング）がメインテーマ。またIMPES法の実装を通じて貯留層シミュレーションに興味関心を持ってもらえれば最高。
                    IMPES法の実装までで，4h~6hは必要（Buckley-Leverettを説明するには+1.5h）と感じている。
                    また，教える側はBuckley-Leverret理論や非線形方程式ついて知識がある事が望ましいと思う。
                    -->
                    発展編の資料をまとめたzipは<a><b><u><font color="#ff4500">こちら</font></u></b></a>
                    
                    <ul>
                        <b>2-3-1.前提知識の復習と応用的プログラミング技術</b>
                        <li>numpy & scipy</li>
                        <li>1次元圧力拡散方程式（陰解法）：
                            説明用<a href="kiso/04_Diffusion_Imp.pdf">[pdf]</a>,<a href="hatten/Pressure1D_Implicit.html">[html]</a>
                             / 演習用<a href="hatten/Pressure1D_Implicit.ipynb">[ipynb]</a></li>
                        
                        <li>疎行列：説明用<a href="hatten/SparseMatrix.html">[html]</a> / 演習用<a href="hatten/SparseMatrix.ipynb">[ipynb]</a></li>

                        <li>相対浸透率：説明用<a href="hatten/RelPerm.html">[html]</a>, <a href="hatten/RelPerm.pdf">[pdf]</a> / 演習用<a href="hatten/RelPerm.ipynb">[ipynb]</a></li>
                        <li>関数プログラミング：<a href="hatten/CodingWithFunctions.pdf">[pdf]</a> / <a href="hatten/FunctionProgram/Exercise_Func.zip">[zip]</a></li>
                    </ul>
                    
                    <ul>
                        <b>2-3-2.IMPES法による水油2相流の解析</b>
                        <li>石油開発の流れとIOR・EOR（石油工学の復習）<a href = "hatten/OilDevelopmentFlow.pdf">[pdf]</a></li>
                        <li>IMPES法（シミュレーション）
                            <ul>
                                <li>水油2相流れ：<a href="hatten/WaterOil2PhaseFlow.pdf">[pdf]</a>, <a href="hatten/WaterOil2PhaseFlow_Distribution.pptx">[pptx]</a>
                                    <ul>
                                        <li>Buckeley-Leverett理論</li>
                                    </ul>
                                </li>
                                <li>課題設定と支配方程式の導出</li>
                                <li>理論とアルゴリズム：<a href="hatten/IMPES_Method.html">[html]</a></li>
                                <li>IMPES法実装：<a>[pdf]</a>,<a href="hatten/IMPES/IMPES.zip">[zip]</a></li>
                            </ul>
                        </li>
                        <li>実践プロジェクト，易動度に関する考察<a>[pdf]</a>,<a>[pptx](解答)</a></li>
                    </ul>    


                    <ul>
                        <b>2-3-3.まとめ</b>
                        <li><a href="hatten/LinearAndNonlinear.pdf">線形と非線形，Newton法</a></li>
                        <li>地熱貯留層のシミュレーション</li>
                        <li>坑井試験解析</li>
                        <ul>
                            <li>坑井モデル</li>
                            <li>ドローダウン試験：説明用[pdf],演習<a href="hatten/WellTest/drawdownDataset_exercise.xlsx">[xlsx]</a></li>
                            <li>ビルドアップ試験：説明用[pdf],演習<a href="hatten/WellTest/PseudoData_BULogLog_exercise.xlsx">[xlsx]</a></li>
                            <li>log-logプロット：説明用[pdf],演習</li>
                        </ul>
                    </ul>
                </div>
                </div>
            <a href="#supp_exp" style="color: red;">資料の訂正・補足はこちら</a>
   

            <!--補足はじまり-->
            <h2 style="border-bottom: solid rgb(0, 61, 111);">
                雑記
            </h2>
            終了後に気づいたことを書いておきます。
                <!--進め方について-->
                <div style="padding-bottom: 5px;">
                    <h3>
                        事前準備
                    </h3>
                    <ul>
                        <li>説明を始める前に、各自のプログラミング環境を確認すべきだった。</li>
                        <li>URLを変更して解答をダウンロードする方法は上手くいかない場合もある（原因不明）</li>
                    </ul>

                <!--進め方について-->
                <div style="padding-bottom: 5px;">
                    <h3>
                        進め方
                    </h3>
                    <ul>
                        <li>2日間、計6時間程度の予定だったが、足りなかった。</li>
                        <li>資料すべてを説明して、陰解法の演習までこなすには9時間程度必要？</li>
                        <li>陰解法の説明・演習を3日目に行えば適切な時間配分になったはず。</li>
                        <li>アニメーション作成について、コマンドプロンプトではなく、Windows Power Shellを使った説明の方が便利だった。</li>
                        <li>時間がなく、急遽「移流方程式→拡散方程式・陽解法→アニメーション作成」の順番に変更したが、陽解法→陰解法とプログラム作成が連続せず、結果としてよりよいものになったと思う。</li>
                    </ul>
                
                <!--資料訂正-->
                <div style="padding-bottom: 5px;">
                    <h3  id="supp_exp">
                        資料の訂正と補足
                    </h3>
                    <ul>
                        <li>1次元拡散方程式の資料で"発散定理"と表記されている定理は、正しくは"ストークスの定理"でした。(2022.04.08)</li>
                        <li>3重積分が2重積分に置き換わるのが発散定理です。</li>
                    </ul>

            
            <!--コンテンツ終わり-->
        </main>
        
    </body>
</html>